{"version":3,"sources":["webpack:///./src/components/user-center/user-center.vue?aced","webpack:///./src/components/user-center/user-center.vue?e8ec","webpack:///src/components/user-center/user-center.vue","webpack:///./src/components/user-center/user-center.vue?7822","webpack:///./src/components/user-center/user-center.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_user_center_vue_vue_type_style_index_0_id_6e968dec_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_user_center_vue_vue_type_style_index_0_id_6e968dec_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","name","staticClass","on","click","back","switches","current-index","currentIndex","switch","switchItem","random","_v","ref","data","favoriteList","songs","select","selectSong","_e","playHistory","directives","rawName","value","expression","title","noResultDesc","staticRenderFns","user_centervue_type_script_lang_js_","components","Switches","Scroll","scroll_scroll","SongList","song_list","NoResult","no_result","mixins","mixin","computed","Object","objectSpread","noResult","length","vuex_esm","methods","handlePlaylist","playlist","$refs","listWrapper","style","bottom","refresh","playList","index","$router","song","insertSong","js_song","list","map","randomPlay","user_center_user_centervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-3004c16b.31e43ae1.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=style&index=0&id=6e968dec&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=style&index=0&id=6e968dec&scoped=true&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{staticClass:\"user-center\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_c('div',{staticClass:\"switches-wrapper\"},[_c('switches',{attrs:{\"switches\":_vm.switches,\"current-index\":_vm.currentIndex},on:{\"switch\":_vm.switchItem}})],1),_c('div',{staticClass:\"play-btn\"},[_c('i',{staticClass:\"icon-play\"}),_c('span',{staticClass:\"text\",on:{\"click\":_vm.random}},[_vm._v(\"随机播放全部\")])]),_c('div',{ref:\"listWrapper\",staticClass:\"list-wrapper\"},[(_vm.currentIndex===0)?_c('scroll',{ref:\"favoriteList\",staticClass:\"list-scroll\",attrs:{\"data\":_vm.favoriteList}},[_c('div',{staticClass:\"list-inner\"},[_c('song-list',{attrs:{\"songs\":_vm.favoriteList},on:{\"select\":_vm.selectSong}})],1)]):_vm._e(),(_vm.currentIndex===1)?_c('scroll',{ref:\"playList\",staticClass:\"list-scroll\",attrs:{\"data\":_vm.playHistory}},[_c('div',{staticClass:\"list-inner\"},[_c('song-list',{attrs:{\"songs\":_vm.playHistory},on:{\"select\":_vm.selectSong}})],1)]):_vm._e()],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noResult),expression:\"noResult\"}],staticClass:\"no-result-wrapper\"},[_c('no-result',{attrs:{\"title\":_vm.noResultDesc}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <transition name=\"slide\">\n        <div class=\"user-center\">\n            <div class=\"back\" @click=\"back\">\n                <i class=\"icon-back\"></i>\n            </div>\n            <div class=\"switches-wrapper\">\n                <switches :switches=\"switches\"\n                          :current-index=\"currentIndex\"\n                          @switch=\"switchItem\"\n                ></switches>\n            </div>\n            <div class=\"play-btn\">\n                <i class=\"icon-play\"></i>\n                <span class=\"text\" @click=\"random\">随机播放全部</span>\n            </div>\n            <div class=\"list-wrapper\" ref=\"listWrapper\">\n                <scroll ref=\"favoriteList\"\n                        class=\"list-scroll\"\n                        v-if=\"currentIndex===0\"\n                        :data=\"favoriteList\"\n                >\n                    <div class=\"list-inner\">\n                        <song-list :songs=\"favoriteList\"\n                                   @select=\"selectSong\"\n                        ></song-list>\n                    </div>\n                </scroll>\n                <scroll ref=\"playList\"\n                        class=\"list-scroll\"\n                        v-if=\"currentIndex===1\"\n                        :data=\"playHistory\"\n                >\n                    <div class=\"list-inner\">\n                        <song-list :songs=\"playHistory\"\n                                   @select=\"selectSong\"\n                        ></song-list>\n                    </div>\n                </scroll>\n            </div>\n            <div class=\"no-result-wrapper\" v-show=\"noResult\">\n                <no-result :title=\"noResultDesc\"></no-result>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\n    import Switches from '../../base/switches/switches'\n    import Scroll from '../../base/scroll/scroll'\n    import SongList from '../../base/song-list/song-list'\n    import NoResult from '../../base/no-result/no-result'\n    import Song from '../../assets/js/song'\n    import {mapActions, mapGetters} from 'vuex'\n    import {playlistMixin} from \"../../assets/js/mixin\";\n\n    export default {\n        name: \"user-center\",\n        components: {\n            Switches,\n            Scroll,\n            SongList,\n            NoResult\n        },\n        mixins: [playlistMixin],\n        data() {\n            return {\n                currentIndex: 0,\n                switches: [{name: '我的最爱'}, {name: '最近播放'}]\n            }\n        },\n        computed: {\n            noResult() {\n                if (this.currentIndex === 0) {\n                    return !this.favoriteList.length\n                } else {\n                    return !this.playHistory.length\n                }\n            },\n            noResultDesc() {\n                if (this.currentIndex === 0) {\n                    return '暂无收藏歌曲'\n                } else {\n                    return '最近无播放歌曲'\n                }\n            },\n            ...mapGetters([\n                'favoriteList',\n                'playHistory'\n            ])\n        },\n        methods: {\n            handlePlaylist(playlist) {\n                this.$refs.listWrapper.style.bottom = playlist.length > 0 ? '60px' : ''\n\n                this.$refs.favoriteList && this.$refs.favoriteList.refresh()\n                this.$refs.playList && this.$refs.playList.refresh()\n            },\n            switchItem(index) {\n                this.currentIndex = index\n            },\n            back() {\n                this.$router.back()\n            },\n            selectSong(song) {\n                this.insertSong(new Song(song))\n            },\n            random() {\n                let list = this.currentIndex === 0 ? this.favoriteList : this.playHistory\n\n                if (list.length === 0) {\n                    return\n                }\n                list = list.map((song) => {\n                    return new Song(song)\n                })\n                this.randomPlay({list})\n            },\n            ...mapActions([\n                'insertSong',\n                'randomPlay'\n            ])\n        }\n    }\n</script>\n\n<style scoped lang='stylus'>\n    @import \"../../assets/stylus/variable.styl\"\n\n    .user-center\n        position fixed\n        top 0\n        bottom 0\n        zindex 100\n        width 100%\n        background $color-background\n\n        &.slide-enter-active, &.slide-leave-active\n            transition .3s\n\n        &.slide-enter, &.slide-leave-to\n            transform translate3d(100%, 0, 0)\n\n        .back\n            position absolute\n            top 0\n            left 6px\n            z-index 50\n\n            .icon-back\n                display block\n                padding 10px\n                font-size $font-size-large-x\n                color $color-theme\n\n        .switches-wrapper\n            margin 10px 0 30px 0\n\n        .play-btn\n            box-sizing border-box\n            width 135px\n            padding 7px 0\n            margin 0 auto\n            text-align center\n            border 1px solid $color-text-l\n            color $color-text-l\n            border-radius 100px\n            font-size 0\n\n            .icon-play\n                display inline-block\n                vertical-align middle\n                margin-right 6px\n                font-size $font-size-medium-x\n\n            .text\n                display inline-block\n                vertical-align middle\n                font-size $font-size-small\n\n        .list-wrapper\n            position absolute\n            top 110px\n            bottom 0\n            width 100%\n\n            .list-scroll\n                height 100%\n                overflow hidden\n\n                .list-inner\n                    padding 20px 30px\n\n        .no-result-wrapper\n            position absolute\n            width 100%\n            top 50%\n            transform translateY(-50%)\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-center.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user-center.vue?vue&type=template&id=6e968dec&scoped=true&\"\nimport script from \"./user-center.vue?vue&type=script&lang=js&\"\nexport * from \"./user-center.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user-center.vue?vue&type=style&index=0&id=6e968dec&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e968dec\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}