{"version":3,"sources":["webpack:///./src/components/music-list/music-list.vue?6092","webpack:///src/components/music-list/music-list.vue","webpack:///./src/components/music-list/music-list.vue?f53f","webpack:///./src/components/music-list/music-list.vue","webpack:///./src/components/singer-detail/singer-detail.vue?261f","webpack:///src/components/singer-detail/singer-detail.vue","webpack:///./src/components/singer-detail/singer-detail.vue?7a11","webpack:///./src/components/singer-detail/singer-detail.vue?ad71","webpack:///./src/components/music-list/music-list.vue?b026","webpack:///./src/api/singer.js","webpack:///./src/components/singer-detail/singer-detail.vue?1167"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","back","domProps","innerHTML","_s","title","ref","style","directives","name","rawName","value","songs","length","expression","random","_v","attrs","data","probe-type","probeType","listen-scroll","listenScroll","scroll","rank","select","selectItem","staticRenderFns","RESEVERD_HEIGHT","transform","Object","dom","backdrop","music_listvue_type_script_lang_js_","mixins","mixin","components","Scroll","scroll_scroll","SongList","song_list","Loading","loading","scrollY","props","bgImage","type","String","default","Array","Boolean","computed","bgStyle","concat","watch","newY","translateY","Math","max","minTranslateY","zIndex","scale","blur","$refs","layer","percent","abs","imageHeight","min","filter","paddingTop","height","playBtn","display","created","mounted","clientHeight","list","$el","top","methods","objectSpread","pos","y","$router","item","index","selectPlay","randomPlay","handlePlaylist","playlist","bottom","refresh","vuex_esm","music_list_music_listvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","bg-image","singer_detailvue_type_script_lang_js_","MusicList","music_list","singer","avatar","_getSingerDetail","_this","id","then","res","code","config","_normalizeSongs","push","ret","forEach","musicData","albummid","songmid","song","singer_detail_singer_detailvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_music_list_vue_vue_type_style_index_0_id_48b22da8_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_music_list_vue_vue_type_style_index_0_id_48b22da8_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","n","getSingerList","url","_Users_lxx_Documents_Demo_vue_music_play_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default","commonParams","channel","page","key","pagesize","pagenum","hostUin","needNewCode","platform","jsonp","options","getSingerDetail","singerId","g_tk","loginUin","format","inCharset","outCharset","notice","ct","singermid","order","begin","num","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_singer_detail_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_singer_detail_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"gHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAyB,CAAAF,EAAA,OAAYE,YAAA,OAAAC,GAAA,CAAuBC,MAAAR,EAAAS,OAAkB,CAAAL,EAAA,KAAUE,YAAA,gBAAwBF,EAAA,MAAaE,YAAA,QAAAI,SAAA,CAA8BC,UAAAX,EAAAY,GAAAZ,EAAAa,UAA+BT,EAAA,OAAYU,IAAA,UAAAR,YAAA,WAAAS,MAAAf,EAAA,SAAyD,CAAAI,EAAA,OAAYE,YAAA,gBAA2B,CAAAF,EAAA,OAAYY,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAnB,EAAAoB,MAAAC,OAAA,EAAAC,WAAA,mBAAoFR,IAAA,UAAAR,YAAA,OAAAC,GAAA,CAAuCC,MAAAR,EAAAuB,SAAoB,CAAAnB,EAAA,KAAUE,YAAA,cAAwBF,EAAA,QAAaE,YAAA,QAAmB,CAAAN,EAAAwB,GAAA,gBAAApB,EAAA,OAAmCU,IAAA,SAAAR,YAAA,aAAkCF,EAAA,OAAcU,IAAA,QAAAR,YAAA,aAAmCF,EAAA,UAAeU,IAAA,OAAAR,YAAA,OAAAmB,MAAA,CAAqCC,KAAA1B,EAAAoB,MAAAO,aAAA3B,EAAA4B,UAAAC,gBAAA7B,EAAA8B,cAA6EvB,GAAA,CAAKwB,OAAA/B,EAAA+B,SAAqB,CAAA3B,EAAA,OAAYE,YAAA,qBAAgC,CAAAF,EAAA,aAAkBqB,MAAA,CAAOO,KAAAhC,EAAAgC,KAAAZ,MAAApB,EAAAoB,OAAkCb,GAAA,CAAK0B,OAAAjC,EAAAkC,eAAyB,GAAA9B,EAAA,OAAgBY,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAC,OAAAnB,EAAAoB,MAAAC,OAAAC,WAAA,kBAAkFhB,YAAA,qBAAkC,CAAAF,EAAA,sBACjqC+B,EAAA,uFC6CAC,EAAA,GACAC,EAAAC,OAAAC,EAAA,KAAAD,CAAA,aACAE,EAAAF,OAAAC,EAAA,KAAAD,CAAA,mBACAG,EAAA,CACAxB,KAAA,aACAyB,OAAA,CAAAC,EAAA,MACAC,WAAA,CACAC,OAAAC,EAAA,KACAC,SAAAC,EAAA,KACAC,QAAAC,EAAA,MAEAxB,KARA,WASA,OACAyB,QAAA,IAGAC,MAAA,CACAC,QAAA,CACAC,KAAAC,OACAC,QAAA,IAEApC,MAAA,CACAkC,KAAAG,MACAD,QAAA,sBAEA3C,MAAA,CACAyC,KAAAC,OACAC,QAAA,IAEAxB,KAAA,CACAsB,KAAAI,QACAF,SAAA,IAGAG,SAAA,CACAC,QADA,WAEA,+BAAAC,OAAA5D,KAAAoD,QAAA,OAGAS,MAAA,CACAX,QADA,SACAY,GACA,IAAAC,EAAAC,KAAAC,IAAAjE,KAAAkE,cAAAJ,GACAK,EAAA,EACAC,EAAA,EACAC,EAAA,EACArE,KAAAsE,MAAAC,MAAAzD,MAAAsB,GAAA,kBAAAwB,OAAAG,EAAA,UAEA,IAAAS,EAAAR,KAAAS,IAAAX,EAAA9D,KAAA0E,aACAZ,EAAA,GACAM,EAAA,EAAAI,EACAL,EAAA,IAEAE,EAAAL,KAAAW,IAAA,GAAAH,EAAA,IAEAxE,KAAAsE,MAAAM,OAAA9D,MAAAyB,GAAA,QAAAqB,OAAAS,EAAA,OACAP,EAAA9D,KAAAkE,eACAC,EAAA,GACAnE,KAAAsE,MAAAlB,QAAAtC,MAAA+D,WAAA,EACA7E,KAAAsE,MAAAlB,QAAAtC,MAAAgE,OAAA,GAAAlB,OAAAzB,EAAA,MACAnC,KAAAsE,MAAAS,QAAAjE,MAAAkE,QAAA,SAEAhF,KAAAsE,MAAAlB,QAAAtC,MAAA+D,WAAA,MACA7E,KAAAsE,MAAAlB,QAAAtC,MAAAgE,OAAA,EACA9E,KAAAsE,MAAAS,QAAAjE,MAAAkE,QAAA,IAEAhF,KAAAsE,MAAAlB,QAAAtC,MAAAqD,SACAnE,KAAAsE,MAAAlB,QAAAtC,MAAAsB,GAAA,SAAAwB,OAAAQ,EAAA,OAGAa,QAlEA,WAmEAjF,KAAA2B,UAAA,EACA3B,KAAA6B,cAAA,GAEAqD,QAtEA,WAuEAlF,KAAA0E,YAAA1E,KAAAsE,MAAAlB,QAAA+B,aACAnF,KAAAkE,eAAAlE,KAAA0E,YAAAvC,EACAnC,KAAAsE,MAAAc,KAAAC,IAAAvE,MAAAwE,IAAA,GAAA1B,OAAA5D,KAAA0E,YAAA,OAEAa,QAAAlD,OAAAmD,EAAA,KAAAnD,CAAA,CACAP,OADA,SACA2D,GACAzF,KAAAkD,QAAAuC,EAAAC,GAEAlF,KAJA,WAKAR,KAAA2F,QAAAnF,QAEAyB,WAPA,SAOA2D,EAAAC,GACA7F,KAAA8F,WAAA,CACAV,KAAApF,KAAAmB,MACA0E,WAGAvE,OAbA,WAcAtB,KAAA+F,WAAA,CACAX,KAAApF,KAAAmB,SAGA6E,eAlBA,SAkBAC,GACA,IAAAC,EAAAD,EAAA7E,OAAA,YACApB,KAAAsE,MAAAc,KAAAC,IAAAvE,MAAAoF,SACAlG,KAAAsE,MAAAc,KAAAe,YAEA9D,OAAA+D,EAAA,KAAA/D,CAAA,CACA,aACA,iBCrJmWgE,EAAA,0BCQnWC,EAAgBjE,OAAAkE,EAAA,KAAAlE,CACdgE,EACAvG,EACAoC,GACF,EACA,KACA,WACA,MAIesE,EAAA,KAAAF,sDCnBf,IAAAxG,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,cAAwBqB,MAAA,CAAOR,KAAA,UAAgB,CAAAb,EAAA,aAAkBqB,MAAA,CAAOZ,MAAAb,EAAAa,MAAAO,MAAApB,EAAAoB,MAAAsF,WAAA1G,EAAAqD,YAA4D,IAC7NlB,EAAA,iGCYAwE,EAAA,CACA1F,KAAA,gBACA2B,WAAA,CACAgE,UAAAC,EAAA,MAEAnF,KALA,WAMA,OACAN,MAAA,KAGAuC,SAAArB,OAAAmD,EAAA,KAAAnD,CAAA,GACAA,OAAA+D,EAAA,KAAA/D,CAAA,CACA,WAFA,CAIAzB,MAJA,WAKA,OAAAZ,KAAA6G,OAAA7F,MAEAoC,QAPA,WAQA,OAAApD,KAAA6G,OAAAC,UAGA7B,QArBA,WAsBAjF,KAAA+G,oBAEAxB,QAAA,CACAwB,iBADA,WACA,IAAAC,EAAAhH,KACAA,KAAA6G,OAAAI,GAIA5E,OAAAwE,EAAA,KAAAxE,CAAArC,KAAA6G,OAAAI,IAAAC,KAAA,SAAAC,GACAA,EAAAC,OAAAC,EAAA,OACAL,EAAA7F,MAAA6F,EAAAM,gBAAAH,EAAA1F,KAAA2D,SALApF,KAAA2F,QAAA4B,KAAA,YASAD,gBAZA,SAYAlC,GACA,IAAAoC,EAAA,GAOA,OANApC,EAAAqC,QAAA,SAAA7B,GAAA,IACA8B,EAAA9B,EAAA8B,UACAA,EAAAC,UAAAD,EAAAE,SACAJ,EAAAD,KAAAlF,OAAAwF,EAAA,KAAAxF,CAAAqF,MAGAF,KCzDsWM,EAAA,0BCQtWxB,EAAgBjE,OAAAkE,EAAA,KAAAlE,CACdyF,EACAhI,EACAoC,GACF,EACA,KACA,KACA,MAIesE,EAAA,WAAAF,+CCnBf,IAAAyB,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAA8jBE,EAAG,wJCG1jB,SAASE,IACZ,IAAMC,EAAM,uCAEN3G,EAAO4G,IAAc,GAAIC,OAAc,CACzCC,QAAS,SACTC,KAAM,OACNC,IAAK,cACLC,SAAU,IACVC,QAAS,EACTC,QAAS,EACTC,YAAa,EACbC,SAAU,QAGd,OAAOC,eAAMX,EAAK3G,EAAMuH,QAGrB,SAASC,EAAgBC,GAC5B,IAAMd,EAAM,2DAEN3G,EAAO4G,IAAc,GAAIC,OAAc,CACzCa,KAAM,KACNC,SAAU,EACVR,QAAS,EACTS,OAAQ,OACRC,UAAW,OACXC,WAAY,QACZC,OAAQ,EACRV,SAAU,MACVD,YAAa,EACbY,GAAI,GACJC,UAAWR,EACXS,MAAO,SACPC,MAAO,EACPC,IAAK,KAET,OAAOd,eAAMX,EAAK3G,EAAMuH,4FCvC5B,IAAAc,EAAA9B,EAAA,QAAA+B,EAAA/B,EAAAE,EAAA4B,GAAyiBC,EAAG","file":"js/chunk-2be09c0c.c9d9c166.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-list\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_c('h1',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.title)}}),_c('div',{ref:\"bgImage\",staticClass:\"bg-image\",style:(_vm.bgStyle)},[_c('div',{staticClass:\"play-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.songs.length>0),expression:\"songs.length>0\"}],ref:\"playBtn\",staticClass:\"play\",on:{\"click\":_vm.random}},[_c('i',{staticClass:\"icon-play\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"随机播放全部\")])])]),_c('div',{ref:\"filter\",staticClass:\"filter\"})]),_c('div',{ref:\"layer\",staticClass:\"bg-layer\"}),_c('scroll',{ref:\"list\",staticClass:\"list\",attrs:{\"data\":_vm.songs,\"probe-type\":_vm.probeType,\"listen-scroll\":_vm.listenScroll},on:{\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"song-list-wrapper\"},[_c('song-list',{attrs:{\"rank\":_vm.rank,\"songs\":_vm.songs},on:{\"select\":_vm.selectItem}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.songs.length),expression:\"!songs.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"music-list\">\n        <div class=\"back\" @click=\"back\">\n            <i class=\"icon-back\"></i>\n        </div>\n        <h1 class=\"title\" v-html=\"title\"></h1>\n        <div class=\"bg-image\"\n             :style=\"bgStyle\"\n             ref=\"bgImage\">\n            <div class=\"play-wrapper\">\n                <div class=\"play\"\n                     v-show=\"songs.length>0\"\n                     @click=\"random\"\n                     ref=\"playBtn\">\n                    <i class=\"icon-play\"></i>\n                    <span class=\"text\">随机播放全部</span>\n                </div>\n            </div>\n            <div class=\"filter\" ref=\"filter\"></div>\n        </div>\n        <div class=\"bg-layer\" ref=\"layer\"></div>\n        <scroll :data=\"songs\"\n                :probe-type=\"probeType\"\n                :listen-scroll=\"listenScroll\"\n                @scroll=\"scroll\"\n                class=\"list\"\n                ref=\"list\">\n            <div class=\"song-list-wrapper\">\n                <song-list :rank=\"rank\" @select=\"selectItem\" :songs=\"songs\"></song-list>\n            </div>\n            <div class=\"loading-container\" v-show=\"!songs.length\">\n                <loading></loading>\n            </div>\n        </scroll>\n    </div>\n</template>\n\n<script>\n    import Scroll from '../../base/scroll/scroll'\n    import SongList from '../../base/song-list/song-list'\n    import Loading from '../../base/loading/loading'\n    import {prefixStyle} from \"../../assets/js/dom\";\n    import {mapActions} from 'vuex'\n    import {playlistMixin} from \"../../assets/js/mixin\";\n\n\n    const RESEVERD_HEIGHT = 40\n    const transform = prefixStyle('transform')\n    const backdrop = prefixStyle('backdrop-filter')\n    export default {\n        name: \"music-list\",\n        mixins: [playlistMixin],\n        components: {\n            Scroll,\n            SongList,\n            Loading\n        },\n        data() {\n            return {\n                scrollY: 0\n            }\n        },\n        props: {\n            bgImage: {\n                type: String,\n                default: ''\n            },\n            songs: {\n                type: Array,\n                default: () => []\n            },\n            title: {\n                type: String,\n                default: ''\n            },\n            rank: {\n                type: Boolean,\n                default: false\n            }\n        },\n        computed: {\n            bgStyle() {\n                return `background-image: url(${this.bgImage})`\n            }\n        },\n        watch: {\n            scrollY(newY) {\n                let translateY = Math.max(this.minTranslateY, newY)\n                let zIndex = 0\n                let scale = 1\n                let blur = 0\n                this.$refs.layer.style[transform] = `translate3d(0, ${translateY}px, 0)`\n\n                const percent = Math.abs(newY / this.imageHeight)\n                if(newY > 0) {\n                    scale = 1 + percent\n                    zIndex = 10\n                } else {\n                    blur = Math.min(20*percent, 20)\n                }\n                this.$refs.filter.style[backdrop] = `blur(${blur}px)`\n                if (newY < this.minTranslateY) {\n                    zIndex = 10\n                    this.$refs.bgImage.style.paddingTop = 0\n                    this.$refs.bgImage.style.height = `${RESEVERD_HEIGHT}px`\n                    this.$refs.playBtn.style.display = 'none'\n                } else {\n                    this.$refs.bgImage.style.paddingTop = '70%'\n                    this.$refs.bgImage.style.height = 0\n                    this.$refs.playBtn.style.display = ''\n                }\n                this.$refs.bgImage.style.zIndex = zIndex\n                this.$refs.bgImage.style[transform] = `scale(${scale})`\n            }\n        },\n        created() {\n            this.probeType = 3\n            this.listenScroll = true\n        },\n        mounted() {\n            this.imageHeight = this.$refs.bgImage.clientHeight\n            this.minTranslateY = -this.imageHeight + RESEVERD_HEIGHT\n            this.$refs.list.$el.style.top = `${this.imageHeight}px`\n        },\n        methods: {\n            scroll(pos) {\n                this.scrollY = pos.y\n            },\n            back(){\n                this.$router.back()\n            },\n            selectItem(item, index){\n                this.selectPlay({\n                    list: this.songs,\n                    index\n                })\n            },\n            random() {\n              this.randomPlay({\n                  list: this.songs\n              })\n            },\n            handlePlaylist(playlist) {\n                const bottom = playlist.length>0 ? '60px' : ''\n                this.$refs.list.$el.style.bottom = bottom\n                this.$refs.list.refresh()\n            },\n            ...mapActions([\n                'selectPlay',\n                'randomPlay'\n            ])\n        }\n\n    }\n</script>\n\n<style scoped lang='stylus'>\n    @import \"../../assets/stylus/variable.styl\"\n    @import \"../../assets/stylus/mixin.styl\"\n\n    .music-list\n        position: fixed\n        z-index: 100\n        top: 0\n        left: 0\n        right: 0\n        bottom: 0\n        background: $color-background\n\n        .back\n            position: absolute\n            top: 0\n            left: 6px\n            z-index: 50\n\n            .icon-back\n                display: block\n                padding: 10px\n                font-size: $font-size-large-x\n                color $color-theme\n\n        .title\n            position: absolute\n            top: 0\n            left: 10%\n            z-index: 40\n            width: 80%\n            no-wrap()\n            text-align center\n            line-height 40px\n            font-size $font-size-large\n            color $color-text\n\n        .bg-image\n            position relative\n            width 100%\n            height 0\n            padding-top 70%\n            transform-origin top\n            background-size cover\n            .play-wrapper\n                position absolute\n                bottom 20px\n                z-index 50\n                width 100%\n                .play\n                    box-sizing border-box\n                    width 135px\n                    padding 7px 0\n                    margin 0 auto\n                    text-align center\n                    border 1px solid $color-theme\n                    color $color-theme\n                    border-radius 100px\n                    font-size 0\n                    .icon-play\n                        display inline-block\n                        vertical-align middle\n                        margin-right 6px\n                        font-size $font-size-medium-x\n                    .text\n                        display inline-block\n                        vertical-align middle\n                        font-size $font-size-small\n\n            .filter\n                position absolute\n                top 0\n                left 0\n                width 100%\n                height 100%\n                background: rgba(7, 17, 27, .4)\n\n        .bg-layer\n            position relative\n            height 100%\n            background: $color-background\n\n        .list\n            position fixed\n            top 0\n            bottom 0\n            width 100%\n            background $color-background\n\n            .song-list-wrapper\n                padding 20px 30px\n            .loading-container\n                position absolute\n                width 100%\n                top 50%\n                transform translateY(-50%)\n\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./music-list.vue?vue&type=template&id=48b22da8&scoped=true&\"\nimport script from \"./music-list.vue?vue&type=script&lang=js&\"\nexport * from \"./music-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./music-list.vue?vue&type=style&index=0&id=48b22da8&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48b22da8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('MusicList',{attrs:{\"title\":_vm.title,\"songs\":_vm.songs,\"bg-image\":_vm.bgImage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <transition name=\"slide\">\n\t\t\t\t<MusicList :title=\"title\" :songs=\"songs\" :bg-image=\"bgImage\"></MusicList>\n    </transition>\n</template>\n\n<script>\n    import {mapGetters} from 'vuex'\n    import {getSingerDetail} from \"../../api/singer\";\n    import {ERR_OK} from \"../../api/config\";\n    import {createSong} from \"../../assets/js/song\";\n\t\timport MusicList from 'components/music-list/music-list'\n\n    export default {\n        name: \"singer-detail\",\n\t\t\t\tcomponents:{\n            MusicList\n\t\t\t\t},\n\t\t\t\tdata(){\n            return {\n                songs: []\n\t\t\t\t\t\t}\n\t\t\t\t},\n        computed: {\n            ...mapGetters([\n                'singer' // 相当于this.$store.getters.singer\n            ]),\n\t\t\t\t\t\ttitle() {\n                return this.singer.name\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbgImage() {\n                return this.singer.avatar\n\t\t\t\t\t\t}\n        },\n        created() {\n            this._getSingerDetail()\n        },\n        methods: {\n            _getSingerDetail() {\n                if(!this.singer.id) {\n                    this.$router.push('/singer')\n                    return\n                }\n                getSingerDetail(this.singer.id).then((res)=> {\n                    if(res.code === ERR_OK) {\n                        this.songs = this._normalizeSongs(res.data.list)\n                    }\n                })\n            },\n            _normalizeSongs(list) {\n                let ret = []\n                list.forEach((item) => {\n                    let {musicData} = item\n                    if(musicData.albummid && musicData.songmid) {\n                        ret.push(createSong(musicData))\n                    }\n                })\n                return ret\n            }\n        }\n\n    }\n</script>\n\n<style lang='stylus'>\n    @import \"../../assets/stylus/variable.styl\"\n\n    .slide-enter-active, .slide-leave-active\n        transition: all .3s\n    .slide-enter, .slide-leave-to\n        transform: translate3d(100%, 0, 0)\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer-detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./singer-detail.vue?vue&type=template&id=ddebbed6&\"\nimport script from \"./singer-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./singer-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./singer-detail.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=style&index=0&id=48b22da8&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=style&index=0&id=48b22da8&scoped=true&lang=stylus&\"","import jsonp from '../assets/js/jsonp'\nimport {commonParams, options} from \"./config\";\n\nexport function getSingerList() {\n    const url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\n\n    const data = Object.assign({}, commonParams, {\n        channel: 'singer',\n        page: 'list',\n        key: 'all_all_all',\n        pagesize: 100,\n        pagenum: 1,\n        hostUin: 0,\n        needNewCode: 0,\n        platform: 'yqq'\n    })\n\n    return jsonp(url, data, options)\n}\n\nexport function getSingerDetail(singerId) {\n    const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\n\n    const data = Object.assign({}, commonParams, {\n        g_tk: 5381,\n        loginUin: 0,\n        hostUin: 0,\n        format: 'json',\n        inCharset: 'utf8',\n        outCharset: 'utf-8',\n        notice: 0,\n        platform: 'yqq',\n        needNewCode: 0,\n        ct: 24,\n        singermid: singerId,\n        order: 'listen',\n        begin: 0,\n        num: 10\n    })\n    return jsonp(url, data, options)\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer-detail.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer-detail.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}