{"version":3,"sources":["webpack:///./src/components/disc/disc.vue?429d","webpack:///./src/api/recommend.js","webpack:///./src/components/music-list/music-list.vue?6092","webpack:///src/components/music-list/music-list.vue","webpack:///./src/components/music-list/music-list.vue?f53f","webpack:///./src/components/music-list/music-list.vue","webpack:///./src/components/music-list/music-list.vue?b026","webpack:///./src/components/disc/disc.vue?911f","webpack:///src/components/disc/disc.vue","webpack:///./src/components/disc/disc.vue?2584","webpack:///./src/components/disc/disc.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_disc_vue_vue_type_style_index_0_id_4ead07cf_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_disc_vue_vue_type_style_index_0_id_4ead07cf_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","n","getRecommend","url","data","_Users_lxx_Documents_Demo_vue_music_play_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_1___default","commonParams","platform","uin","needNewCode","jsonp","options","getDiscList","hostUin","sin","ein","sortId","categoryId","rnd","Math","random","axios","get","params","then","res","_Users_lxx_Documents_Demo_vue_music_play_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0___default","a","resolve","getSongList","disstid","type","json","utf8","onlysong","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","back","domProps","innerHTML","_s","title","ref","style","directives","name","rawName","value","songs","length","expression","_v","attrs","probe-type","probeType","listen-scroll","listenScroll","scroll","rank","select","selectItem","staticRenderFns","RESEVERD_HEIGHT","transform","Object","dom","backdrop","music_listvue_type_script_lang_js_","mixins","mixin","components","Scroll","scroll_scroll","SongList","song_list","Loading","loading","scrollY","props","bgImage","String","default","Array","Boolean","computed","bgStyle","concat","watch","newY","translateY","max","minTranslateY","zIndex","scale","blur","$refs","layer","percent","abs","imageHeight","min","filter","paddingTop","height","playBtn","display","created","mounted","clientHeight","list","$el","top","methods","objectSpread","pos","y","$router","item","index","selectPlay","randomPlay","handlePlaylist","playlist","bottom","refresh","vuex_esm","music_list_music_listvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_music_list_vue_vue_type_style_index_0_id_48b22da8_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_music_list_vue_vue_type_style_index_0_id_48b22da8_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","bg-image","discvue_type_script_lang_js_","MusicList","music_list","disc","dissname","imgurl","_getSongList","_this","dissid","recommend","code","config","_normalizeSongs","cdlist","songlist","push","ret","forEach","musicData","songid","albumid","song","disc_discvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-0aa6f47d.451ee2ce.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=style&index=0&id=4ead07cf&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=style&index=0&id=4ead07cf&scoped=true&lang=stylus&\"","import jsonp from '../assets/js/jsonp'\nimport {commonParams, options} from \"./config\";\nimport axios from 'axios'\n\nexport function getRecommend() {\n    const url = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\n\n    const data = Object.assign({}, commonParams, {\n        platform: 'h5',\n        uin: 0,\n        needNewCode: 1\n    })\n\n    return jsonp(url, data, options)\n}\n\nexport function getDiscList() {\n    const url = '/api/getDiscList'\n\n    const data = Object.assign({}, commonParams,{\n        platform: 'yqq',\n        hostUin: 0,\n        sin: 0,\n        ein: 29,\n        sortId: 5,\n        needNewCode: 0,\n        categoryId: 10000000,\n        rnd: Math.random()\n    })\n\n    return axios.get(url, {\n        params: data\n    }).then((res) => {\n        return Promise.resolve(res.data)\n    })\n}\n\nexport function getSongList(disstid) {\n    const url = '/api/getSongList'\n\n    const data = Object.assign({}, commonParams, {\n        disstid,\n        type: 1,\n        json: 1,\n        utf8: 1,\n        onlysong: 0,\n        platform: 'yqq',\n        hostUin: 0,\n        needNewCode: 0\n    })\n\n    return axios.get(url, {\n        params: data\n    }).then((res) => {\n        return Promise.resolve(res.data)\n    })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-list\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_c('h1',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.title)}}),_c('div',{ref:\"bgImage\",staticClass:\"bg-image\",style:(_vm.bgStyle)},[_c('div',{staticClass:\"play-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.songs.length>0),expression:\"songs.length>0\"}],ref:\"playBtn\",staticClass:\"play\",on:{\"click\":_vm.random}},[_c('i',{staticClass:\"icon-play\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"随机播放全部\")])])]),_c('div',{ref:\"filter\",staticClass:\"filter\"})]),_c('div',{ref:\"layer\",staticClass:\"bg-layer\"}),_c('scroll',{ref:\"list\",staticClass:\"list\",attrs:{\"data\":_vm.songs,\"probe-type\":_vm.probeType,\"listen-scroll\":_vm.listenScroll},on:{\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"song-list-wrapper\"},[_c('song-list',{attrs:{\"rank\":_vm.rank,\"songs\":_vm.songs},on:{\"select\":_vm.selectItem}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.songs.length),expression:\"!songs.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"music-list\">\n        <div class=\"back\" @click=\"back\">\n            <i class=\"icon-back\"></i>\n        </div>\n        <h1 class=\"title\" v-html=\"title\"></h1>\n        <div class=\"bg-image\"\n             :style=\"bgStyle\"\n             ref=\"bgImage\">\n            <div class=\"play-wrapper\">\n                <div class=\"play\"\n                     v-show=\"songs.length>0\"\n                     @click=\"random\"\n                     ref=\"playBtn\">\n                    <i class=\"icon-play\"></i>\n                    <span class=\"text\">随机播放全部</span>\n                </div>\n            </div>\n            <div class=\"filter\" ref=\"filter\"></div>\n        </div>\n        <div class=\"bg-layer\" ref=\"layer\"></div>\n        <scroll :data=\"songs\"\n                :probe-type=\"probeType\"\n                :listen-scroll=\"listenScroll\"\n                @scroll=\"scroll\"\n                class=\"list\"\n                ref=\"list\">\n            <div class=\"song-list-wrapper\">\n                <song-list :rank=\"rank\" @select=\"selectItem\" :songs=\"songs\"></song-list>\n            </div>\n            <div class=\"loading-container\" v-show=\"!songs.length\">\n                <loading></loading>\n            </div>\n        </scroll>\n    </div>\n</template>\n\n<script>\n    import Scroll from '../../base/scroll/scroll'\n    import SongList from '../../base/song-list/song-list'\n    import Loading from '../../base/loading/loading'\n    import {prefixStyle} from \"../../assets/js/dom\";\n    import {mapActions} from 'vuex'\n    import {playlistMixin} from \"../../assets/js/mixin\";\n\n\n    const RESEVERD_HEIGHT = 40\n    const transform = prefixStyle('transform')\n    const backdrop = prefixStyle('backdrop-filter')\n    export default {\n        name: \"music-list\",\n        mixins: [playlistMixin],\n        components: {\n            Scroll,\n            SongList,\n            Loading\n        },\n        data() {\n            return {\n                scrollY: 0\n            }\n        },\n        props: {\n            bgImage: {\n                type: String,\n                default: ''\n            },\n            songs: {\n                type: Array,\n                default: () => []\n            },\n            title: {\n                type: String,\n                default: ''\n            },\n            rank: {\n                type: Boolean,\n                default: false\n            }\n        },\n        computed: {\n            bgStyle() {\n                return `background-image: url(${this.bgImage})`\n            }\n        },\n        watch: {\n            scrollY(newY) {\n                let translateY = Math.max(this.minTranslateY, newY)\n                let zIndex = 0\n                let scale = 1\n                let blur = 0\n                this.$refs.layer.style[transform] = `translate3d(0, ${translateY}px, 0)`\n\n                const percent = Math.abs(newY / this.imageHeight)\n                if(newY > 0) {\n                    scale = 1 + percent\n                    zIndex = 10\n                } else {\n                    blur = Math.min(20*percent, 20)\n                }\n                this.$refs.filter.style[backdrop] = `blur(${blur}px)`\n                if (newY < this.minTranslateY) {\n                    zIndex = 10\n                    this.$refs.bgImage.style.paddingTop = 0\n                    this.$refs.bgImage.style.height = `${RESEVERD_HEIGHT}px`\n                    this.$refs.playBtn.style.display = 'none'\n                } else {\n                    this.$refs.bgImage.style.paddingTop = '70%'\n                    this.$refs.bgImage.style.height = 0\n                    this.$refs.playBtn.style.display = ''\n                }\n                this.$refs.bgImage.style.zIndex = zIndex\n                this.$refs.bgImage.style[transform] = `scale(${scale})`\n            }\n        },\n        created() {\n            this.probeType = 3\n            this.listenScroll = true\n        },\n        mounted() {\n            this.imageHeight = this.$refs.bgImage.clientHeight\n            this.minTranslateY = -this.imageHeight + RESEVERD_HEIGHT\n            this.$refs.list.$el.style.top = `${this.imageHeight}px`\n        },\n        methods: {\n            scroll(pos) {\n                this.scrollY = pos.y\n            },\n            back(){\n                this.$router.back()\n            },\n            selectItem(item, index){\n                this.selectPlay({\n                    list: this.songs,\n                    index\n                })\n            },\n            random() {\n              this.randomPlay({\n                  list: this.songs\n              })\n            },\n            handlePlaylist(playlist) {\n                const bottom = playlist.length>0 ? '60px' : ''\n                this.$refs.list.$el.style.bottom = bottom\n                this.$refs.list.refresh()\n            },\n            ...mapActions([\n                'selectPlay',\n                'randomPlay'\n            ])\n        }\n\n    }\n</script>\n\n<style scoped lang='stylus'>\n    @import \"../../assets/stylus/variable.styl\"\n    @import \"../../assets/stylus/mixin.styl\"\n\n    .music-list\n        position: fixed\n        z-index: 100\n        top: 0\n        left: 0\n        right: 0\n        bottom: 0\n        background: $color-background\n\n        .back\n            position: absolute\n            top: 0\n            left: 6px\n            z-index: 50\n\n            .icon-back\n                display: block\n                padding: 10px\n                font-size: $font-size-large-x\n                color $color-theme\n\n        .title\n            position: absolute\n            top: 0\n            left: 10%\n            z-index: 40\n            width: 80%\n            no-wrap()\n            text-align center\n            line-height 40px\n            font-size $font-size-large\n            color $color-text\n\n        .bg-image\n            position relative\n            width 100%\n            height 0\n            padding-top 70%\n            transform-origin top\n            background-size cover\n            .play-wrapper\n                position absolute\n                bottom 20px\n                z-index 50\n                width 100%\n                .play\n                    box-sizing border-box\n                    width 135px\n                    padding 7px 0\n                    margin 0 auto\n                    text-align center\n                    border 1px solid $color-theme\n                    color $color-theme\n                    border-radius 100px\n                    font-size 0\n                    .icon-play\n                        display inline-block\n                        vertical-align middle\n                        margin-right 6px\n                        font-size $font-size-medium-x\n                    .text\n                        display inline-block\n                        vertical-align middle\n                        font-size $font-size-small\n\n            .filter\n                position absolute\n                top 0\n                left 0\n                width 100%\n                height 100%\n                background: rgba(7, 17, 27, .4)\n\n        .bg-layer\n            position relative\n            height 100%\n            background: $color-background\n\n        .list\n            position fixed\n            top 0\n            bottom 0\n            width 100%\n            background $color-background\n\n            .song-list-wrapper\n                padding 20px 30px\n            .loading-container\n                position absolute\n                width 100%\n                top 50%\n                transform translateY(-50%)\n\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./music-list.vue?vue&type=template&id=48b22da8&scoped=true&\"\nimport script from \"./music-list.vue?vue&type=script&lang=js&\"\nexport * from \"./music-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./music-list.vue?vue&type=style&index=0&id=48b22da8&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48b22da8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=style&index=0&id=48b22da8&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music-list.vue?vue&type=style&index=0&id=48b22da8&scoped=true&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('music-list',{attrs:{\"title\":_vm.title,\"bg-image\":_vm.bgImage,\"songs\":_vm.songs}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <transition name=\"slide\">\n        <music-list :title=\"title\" :bg-image=\"bgImage\" :songs=\"songs\"></music-list>\n    </transition>\n</template>\n\n<script>\n    import MusicList from '../../components/music-list/music-list'\n    import {mapGetters} from 'vuex'\n    import {getSongList} from \"../../api/recommend\";\n    import {ERR_OK} from \"../../api/config\";\n    import {createSong} from \"../../assets/js/song\";\n\n    export default {\n        name: \"disc\",\n        components: {\n            MusicList\n        },\n        data() {\n            return {\n                songs: []\n            }\n        },\n        computed:{\n            title(){\n                return this.disc.dissname\n            },\n            bgImage() {\n                return this.disc.imgurl\n            },\n            ...mapGetters([\n                'disc'\n            ])\n        },\n        created() {\n            this._getSongList()\n        },\n        methods:{\n            _getSongList(){\n                if(!this.disc.dissid){\n                    this.$router.push('/recommend')\n                    return\n                }\n                getSongList(this.disc.dissid).then((res) => {\n                    if(res.code === ERR_OK) {\n                        this.songs = this._normalizeSongs(res.cdlist[0].songlist)\n                    }\n                })\n            },\n            _normalizeSongs(list) {\n                let ret = []\n                list.forEach((musicData) => {\n                    if(musicData.songid && musicData.albumid) {\n                        ret.push(createSong(musicData))\n                    }\n                })\n                return ret\n            }\n        }\n\n    }\n</script>\n\n<style scoped lang='stylus'>\n    .slide-enter-active, .slide-leave-active\n        transition all 0.3s\n\n    .slide-enter, .slide-leave-to\n        transform translate3d(100%, 0, 0)\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./disc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./disc.vue?vue&type=template&id=4ead07cf&scoped=true&\"\nimport script from \"./disc.vue?vue&type=script&lang=js&\"\nexport * from \"./disc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./disc.vue?vue&type=style&index=0&id=4ead07cf&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ead07cf\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}